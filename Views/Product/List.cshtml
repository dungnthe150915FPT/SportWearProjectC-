@addTagHelper *,Microsoft.AspNetCore.Mvc.TagHelpers
@using SportWearManage.Models
@{
    List<Category> categories = ViewBag.Categories;
    List<Account> accounts = ViewBag.Accounts;
}
@model List<Product>
<style>
    .styled-table {
        border-collapse: collapse;
        margin: 25px 0;
        font-size: 0.9em;
        font-family: sans-serif;
        min-width: 400px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.15);
    }

        .styled-table thead tr {
            text-align: left;
        }

        .styled-table th,
        .styled-table td {
            padding: 12px 15px;
        }

        .styled-table body tr {
            border-bottom: 1px solid #dddddd;
        }

            .styled-table body tr:nth-of-type(even) {
                background-color: #f3f3f3;
            }

            .styled-table body tr.active-row {
                font-weight: bold;
                color: #009879;
            }

    .main {
        display: flex;
    }

    .active {
        font-weight: 1000;
        font-size: 20px;
    }
</style>

<div class="main">
    <div>
        <a href="/Product/List">
            <img style="text-align: center; height: 100px; width: 200px;"
                 src="https://bucket.nhanh.vn/store/20446/logo_1643340534_THETHAOVIP2-03.png" />
        </a>
        <h1>List of Categories</h1>
        @foreach (var item in categories)
        {
            <div style="background-color: aquamarine; text-align:center">
                <a href="/Product/List/@item.CategoryId" @(ViewBag.id==item.CategoryId?"class=active":"")>@item.CategoryName</a>
            </div>
        }
    </div>
    <div style="margin-top: 2.2%; margin-left: 2%">
        Tìm kiếm sản phẩm <input type="text" name="search"></input><button>Search</button><br>
        @if (Model.Count > 0)
        {
            <table class="styled-table  ">
                <thead>
                    <tr>
                        <th>Product Name</th>
                        <th>Quantity</th>
                        <th>Price</th>
                        <th>Added Date</th>
                        <th>Image</th>
                        <th>Description</th>
                        <th>Source Of Supply</th>
                        <th>Category</th>
                        <th>Added By</th>
                        <th>
                            <form asp-controller="Product" asp-action="Add" method="get">
                                <input type="submit" value="Add new product" />
                            </form>
                        </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var m in Model)
                    {
                        <tr>
                            <td><a href="">@m.ProductName</a></td>
                            <td>@m.Quantity</td>
                            <td>@m.Price</td>
                            <td>@m.AddedDate.ToString("dd/MM/yyyy")</td>
                            <td>
                                <img style="height: 100px; width: 100px;" src="@m.Image" />
                            </td>
                            <td>@m.Description</td>
                            <td>@m.SourceOfSupply</td>
                            <td>@m.Category.CategoryName</td>
                            <td>@m.Account.Username</td>
                            @*if(@m.Account.IsAdmin == 1){*@
                                <td><a asp-controller="Product" asp-action="Update" asp-route-id=@m.ProductId>Update</a></td>
                                <td><a asp-controller="Product" asp-action="Delete" asp-route-id=@m.ProductId>Delete</a></td>
                           @* }else{*@
 @*                               <td><a href="#">Buy</a></td>*@
                            @*}*@
                        </tr>
                    }
                </tbody>
            </table>
        }
        else
        {
            <h1 style="text-align: center; color: red">No product in this Category</h1>
        }
    </div>
</div>